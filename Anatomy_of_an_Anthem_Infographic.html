<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anatomy of an Anthem: Deconstructing "Bullets and Goodbyes"</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=Oswald:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #212121;
            color: #E0E0E0;
            overflow-x: hidden; /* Prevent horizontal scrollbars from animations */
        }
        .header-font {
            font-family: 'Oswald', sans-serif;
        }
        .header-font span, .subheader-font span {
            display: inline-block;
        }
        .text-amber { color: #F9A826; }
        .border-amber { border-color: #F9A826; }
        .shadow-glow-amber {
            box-shadow: 0 0 15px rgba(249, 168, 38, 0.5), 0 0 5px rgba(249, 168, 38, 0.7);
        }
        .chart-container {
            position: relative;
            width: 100%;
            margin: auto;
        }
        .btn-back {
            background-color: #F9A826;
            color: #212121;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            display: inline-block;
            transition: background-color 0.3s ease;
        }
        .btn-back:hover {
            background-color: #FBC02D;
        }
    </style>
</head>
<body class="antialiased">

    <main class="container mx-auto p-6 md:p-12">

        <header class="text-center mb-16">
            <h1 class="header-font text-4xl md:text-6xl font-black uppercase tracking-wider text-amber mb-2">Anatomy of an Anthem</h1>
            <h2 class="subheader-font text-2xl md:text-4xl font-bold text-white">Deconstructing "Bullets and Goodbyes"</h2>
        </header>

        <section id="kpis" class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 mb-16 text-center">
            <div class="kpi-card bg-gray-800 p-6 rounded-lg shadow-xl">
                <p class="kpi-label text-sm uppercase text-gray-400">Emotional Truth</p>
                <p class="kpi-value text-xl md:text-2xl font-bold text-amber">Defiant Fugitivity</p>
            </div>
            <div class="kpi-card bg-gray-800 p-6 rounded-lg shadow-xl">
                <p class="kpi-label text-sm uppercase text-gray-400">Key / Mode</p>
                <p class="kpi-value text-xl md:text-2xl font-bold text-white">F Major</p>
            </div>
            <div class="kpi-card bg-gray-800 p-6 rounded-lg shadow-xl">
                <p class="kpi-label text-sm uppercase text-gray-400">Tempo</p>
                <p class="kpi-value text-xl md:text-2xl font-bold text-white">141 <span class="text-base text-gray-400">BPM</span></p>
            </div>
            <div class="kpi-card bg-gray-800 p-6 rounded-lg shadow-xl">
                <p class="kpi-label text-sm uppercase text-gray-400">Genre</p>
                <p class="kpi-value text-xl md:text-2xl font-bold text-white">Outlaw Rock Country</p>
            </div>
        </section>

        <section id="narrative-arc" class="bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl mb-16">
            <h3 class="narrative-title text-2xl font-bold text-amber mb-4 text-center">The Narrative Blueprint</h3>
            <p class="narrative-p text-center max-w-3xl mx-auto mb-8 text-gray-300">The song follows a classic three-act structure, evolving its core idea from a tense confrontation to a legendary statement of identity. This arc ensures the song gains emotional weight and delivers a satisfying payoff.</p>
            <div id="narrative-steps" class="flex flex-col md:flex-row justify-center items-center gap-4 text-center">
                <div class="narrative-step w-full md:w-1/3 p-4 border-2 border-dashed border-gray-600 rounded-lg">
                    <span class="text-3xl font-black text-amber">1</span>
                    <h4 class="font-bold text-lg mt-2">The Setup</h4>
                    <p class="text-sm text-gray-400 mt-1">A tense standoff is established. The protagonist's aggressive, anti-authority nature is immediately defined.</p>
                </div>
                <div class="narrative-arrow text-2xl text-amber font-thin hidden md:block">→</div>
                <div class="narrative-step w-full md:w-1/3 p-4 border-2 border-dashed border-gray-600 rounded-lg">
                    <span class="text-3xl font-black text-amber">2</span>
                    <h4 class="font-bold text-lg mt-2">The Deepening</h4>
                    <p class="text-sm text-gray-400 mt-1">The protagonist elevates himself from a criminal to a mythic figure who is fatalistic yet unkillable.</p>
                </div>
                 <div class="narrative-arrow text-2xl text-amber font-thin hidden md:block">→</div>
                <div class="narrative-step w-full md:w-1/3 p-4 border-2 border-dashed border-gray-600 rounded-lg">
                    <span class="text-3xl font-black text-amber">3</span>
                    <h4 class="font-bold text-lg mt-2">The Payoff</h4>
                    <p class="text-sm text-gray-400 mt-1">The conflict's resolution isn't death but escape, cementing his "long gone" legend as a way of life.</p>
                </div>
            </div>
        </section>

        <section id="energy" class="bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl mb-16">
            <h3 class="energy-title text-2xl font-bold text-amber mb-4 text-center">Song Structure & Energy Curve</h3>
            <p class="energy-p text-center max-w-3xl mx-auto mb-8 text-gray-300">The song's power comes from its masterful control of dynamics. It builds from a sparse, tense verse to an explosive, full-band chorus, creating a powerful release of energy that hooks the listener.</p>
            <div class="chart-container h-64 md:h-96">
                <canvas id="energyCurveChart"></canvas>
            </div>
        </section>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <section id="lyrical-mechanics" class="bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl">
                <h3 class="lyrical-title text-2xl font-bold text-amber mb-4 text-center">Lyrical Mechanics</h3>
                <p class="lyrical-p text-center max-w-3xl mx-auto mb-8 text-gray-300">The song's lyrical structure is a masterclass in efficiency and impact, using consistent meter and perfect rhymes to create a relentless, driving feel.</p>
                 <div class="chart-container h-64 md:h-80">
                    <canvas id="rhymeTypeChart"></canvas>
                </div>
            </section>

            <section id="x-factor" class="bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl flex flex-col justify-center items-center text-center">
                 <h3 class="xfactor-title text-2xl font-bold text-amber mb-4">The X-Factor: Ironic Prosody</h3>
                 <div class="xfactor-box p-6 border-4 border-amber rounded-lg shadow-glow-amber">
                    <p class="xfactor-fmajor text-5xl font-black text-white mb-2">F Major</p>
                    <p class="xfactor-p text-gray-300">Choosing an upbeat, celebratory Major key for a dark, violent narrative is the song's moment of genius. The music sonically captures the protagonist's defiant smirk, framing the deadly chase not as a tragedy, but as a thrilling, triumphant game.</p>
                 </div>
            </section>
        </div>

        <section id="market-positioning" class="bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl mt-12">
            <h3 class="market-title text-2xl font-bold text-amber mb-4 text-center">Commercial Viability & Market Impact</h3>
            <p class="market-p text-center max-w-3xl mx-auto mb-8 text-gray-300">"Bullets and Goodbyes" is perfectly positioned to serve a core market of Funk Rock fans, with high potential for synchronization in film, television, and advertising.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <h4 class="audience-title font-bold text-white text-lg mb-2 text-center">Target Audience Demographics</h4>
                    <div class="chart-container h-80">
                        <canvas id="audienceChart"></canvas>
                    </div>
                </div>
                <div>
                    <h4 class="sync-title font-bold text-white text-lg mb-4 text-center">High-Potential Sync Placements</h4>
                    <ul class="space-y-3">
                        <li class="sync-item bg-gray-700 p-4 rounded-lg">
                            <div>
                                <h5 class="font-semibold">Automotive Commercials</h5>
                                <p class="text-sm text-gray-400">Perfect for brands like Ford, Ram, or Chevrolet emphasizing power and rugged individualism.</p>
                            </div>
                        </li>
                        <li class="sync-item bg-gray-700 p-4 rounded-lg">
                            <div>
                                <h5 class="font-semibold">Film & TV Action Scenes</h5>
                                <p class="text-sm text-gray-400">Ideal for high-octane chase sequences or modern Westerns.</p>
                            </div>
                        </li>
                         <li class="sync-item bg-gray-700 p-4 rounded-lg">
                            <div>
                                <h5 class="font-semibold">Video Games</h5>
                                <p class="text-sm text-gray-400">Well-suited for titles like Grand Theft Auto or Red Dead Redemption.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>
        
        <footer class="text-center py-12">
            <a href="index.html" class="btn-back">← Back to Main Project</a>
        </footer>

    </main>
    <script>
        gsap.registerPlugin(ScrollTrigger);

        function splitTextIntoSpans(selector) {
            const elements = document.querySelectorAll(selector);
            elements.forEach(el => {
                const words = el.textContent.split(' ').filter(word => word.length > 0);
                el.innerHTML = '';
                words.forEach(word => {
                    const wordSpan = document.createElement('span');
                    wordSpan.textContent = word;
                    wordSpan.style.marginRight = '0.5em'; 
                    el.appendChild(wordSpan);
                });
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            
            splitTextIntoSpans('.header-font, .subheader-font');

            const defaultChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                animation: false, 
                plugins: {
                    legend: { labels: { color: '#E0E0E0' } },
                    tooltip: { callbacks: { title: (tooltipItems) => { const item = tooltipItems[0]; let label = item.chart.data.labels[item.dataIndex]; return Array.isArray(label) ? label.join(' ') : label; } } }
                },
                scales: {
                    y: { ticks: { color: '#E0E0E0' }, grid: { color: 'rgba(224, 224, 224, 0.1)' } },
                    x: { ticks: { color: '#E0E0E0' }, grid: { color: 'rgba(224, 224, 224, 0.1)' } }
                }
            };

            const energyCurveEl = document.getElementById('energyCurveChart');
            const rhymeTypeEl = document.getElementById('rhymeTypeChart');
            const audienceEl = document.getElementById('audienceChart');

            const energyCurveChart = new Chart(energyCurveEl.getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['Intro', 'Verse 1', 'Pre-Chorus', 'Chorus 1', 'Verse 2', 'Chorus 2', 'Chorus 3', 'Outro'],
                    datasets: [{
                        label: 'Energy Level (1-10)',
                        data: [], // Start with empty data
                        borderColor: '#F9A826',
                        backgroundColor: 'rgba(249, 168, 38, 0.2)',
                        fill: true, tension: 0.4, pointBackgroundColor: '#F9A826', pointRadius: 5
                    }]
                },
                options: { ...defaultChartOptions, scales: { y: { ...defaultChartOptions.scales.y, min: 0, max: 10.5 }, x: defaultChartOptions.scales.x } }
            });

            const rhymeTypeChart = new Chart(rhymeTypeEl.getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['Perfect Rhyme', 'Other'],
                    datasets: [{ data: [0, 100], backgroundColor: ['#00BFA5', '#4A5568'], borderColor: '#212121', borderWidth: 4 }]
                },
                options: { ...defaultChartOptions, plugins: { ...defaultChartOptions.plugins, title: { display: true, text: 'Rhyme Scheme Consistency', color: '#FFFFFF', font: { size: 16 } }, legend: { position: 'bottom' } } }
            });

            const audienceChart = new Chart(audienceEl.getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['18-24', '25-34', '35-44', '45-55', '55+'],
                    datasets: [{ label: 'Audience Share', data: [0,0,0,0,0], backgroundColor: ['#0D47A1', '#F9A826', '#00BFA5', '#4682B4', '#6495ED'], borderWidth: 0 }]
                },
                 options: { ...defaultChartOptions, indexAxis: 'y', plugins: { ...defaultChartOptions.plugins, legend: { display: false } } }
            });

            function animate() {
                gsap.set(".kpi-label, .kpi-value, .narrative-title, .narrative-p, .narrative-step, .narrative-arrow, .energy-title, .energy-p, .lyrical-title, .lyrical-p, .xfactor-title, .xfactor-box, .xfactor-fmajor, .xfactor-p, .market-title, .market-p, .audience-title, .sync-title, .sync-item", {autoAlpha: 0});
                gsap.set(".header-font span, .subheader-font span", { autoAlpha: 0, y: -30, rotateX: 90 });
                gsap.set(".narrative-step", {y: 50});

                const tl = gsap.timeline();
                tl.to(".header-font span", { autoAlpha: 1, y: 0, rotateX: 0, stagger: 0.08, duration: 1, ease: 'power3.out' })
                  .to(".subheader-font span", { autoAlpha: 1, y: 0, rotateX: 0, stagger: 0.08, duration: 1, ease: 'power3.out' }, "-=0.7");

                ScrollTrigger.create({
                    trigger: '#kpis',
                    start: 'top 75%',
                    once: true,
                    onEnter: () => {
                        const kpi_tl = gsap.timeline({defaults: { duration: 0.8, ease: 'power2.out'}});
                        kpi_tl.to('.kpi-label', { autoAlpha: 1, stagger: 0.2 })
                              .to('.kpi-value', { autoAlpha: 1, stagger: 0.2 }, "-=0.6");
                    }
                });
                
                ScrollTrigger.create({
                    trigger: '#narrative-arc',
                    start: 'top 75%',
                    once: true,
                    onEnter: () => {
                        const narrative_tl = gsap.timeline();
                        narrative_tl.to('.narrative-title', {autoAlpha: 1, duration: 0.8, ease: 'power2.out'})
                                   .to('.narrative-p', {autoAlpha: 1, duration: 0.8, ease: 'power2.out'}, "-=0.5")
                                   .to('.narrative-step, .narrative-arrow', {autoAlpha: 1, y: 0, stagger: 0.3, duration: 0.8, ease: 'power3.out'});
                    }
                });

                ScrollTrigger.create({
                    trigger: '#energy',
                    start: 'top 75%',
                    once: true,
                    onEnter: () => {
                        gsap.to('.energy-title, .energy-p', {autoAlpha: 1, stagger: 0.3, duration: 0.8, ease: 'power2.out'});
                        const finalData = [3, 4, 6, 9, 5, 9, 10, 5];
                        const proxy = { frame: 0 };
                        gsap.to(proxy, {
                            frame: finalData.length,
                            duration: 3,
                            ease: 'power2.inOut',
                            onUpdate: () => {
                                const pointsToShow = Math.ceil(proxy.frame);
                                energyCurveChart.data.datasets[0].data = finalData.slice(0, pointsToShow);
                                energyCurveChart.update('none');
                            }
                        });
                    }
                });

                ScrollTrigger.create({
                    trigger: '#lyrical-mechanics',
                    start: 'top 75%',
                    once: true,
                    onEnter: () => {
                        const two_col_tl = gsap.timeline();
                        two_col_tl.to('.lyrical-title, .lyrical-p', { autoAlpha: 1, stagger: 0.3, duration: 0.8, ease: 'power2.out' })
                                  .to(rhymeTypeChart.data.datasets[0], {
                                      ...{data: [100,0]},
                                      duration: 2, 
                                      ease: 'power3.out',
                                      onUpdate: () => rhymeTypeChart.update('none')
                                  }, "-=0.5")
                                  .to('.xfactor-title', { autoAlpha: 1, duration: 0.8, ease: 'power2.out' }, 0.5) 
                                  .to('.xfactor-box', { autoAlpha: 1, duration: 0.8, ease: 'power2.out' }, "-=0.5")
                                  .to('.xfactor-fmajor', { autoAlpha: 1, duration: 0.8, ease: 'power2.out' }, "-=0.2")
                                  .to('.xfactor-p', { autoAlpha: 1, duration: 0.8, ease: 'power2.out' }, "-=0.5");
                    }
                });

                ScrollTrigger.create({
                    trigger: '#market-positioning',
                    start: 'top 75%',
                    once: true,
                    onEnter: () => {
                        const market_tl = gsap.timeline();
                        market_tl.to('.market-title, .market-p', { autoAlpha: 1, stagger: 0.3, duration: 0.8, ease: 'power2.out' })
                                 .to('.audience-title', { autoAlpha: 1, duration: 0.8, ease: 'power2.out' }, "-=0.5")
                                 .call(() => {
                                    audienceChart.data.datasets[0].data = [10, 35, 30, 20, 5];
                                    audienceChart.update('none');
                                    gsap.from(audienceChart.getDatasetMeta(0).data, {
                                        x: -300,
                                        autoAlpha: 0,
                                        stagger: 0.2,
                                        duration: 1.2,
                                        ease: 'power3.out'
                                    });
                                 }, null, ">-0.3")
                                 .to('.sync-title', { autoAlpha: 1, duration: 0.8, ease: 'power2.out' }, "+=0.5")
                                 .to('.sync-item', { autoAlpha: 1, stagger: 0.3, duration: 0.6, ease: 'power2.out' });
                    }
                });
            }
            
            animate();
        });
    </script>
</body>
</html>
